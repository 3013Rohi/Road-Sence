<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="description" content="RoadSense: Create your account" />
    <meta name="author" content="Rohit.jsx" />
    <link
      href="https://fonts.googleapis.com/css?family=Poppins:100,200,300,400,500,600,700,800,900&display=swap"
      rel="stylesheet"
    />

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <title>RoadSense: Create Account</title>

    <style>
      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      @keyframes slideIn {
        from {
          transform: translateY(50px);
        }
        to {
          transform: translateY(0);
        }
      }

      @keyframes pulse {
        0%,
        100% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.05);
        }
      }

      .animate-pulse {
        animation: pulse 2s infinite;
      }

      body {
        background: linear-gradient(45deg, #2b5876, #4e4376);
        animation: fadeIn 2s ease-in-out;
      }
    </style>
  </head>

  <body
    class="font-poppins min-h-screen flex flex-col items-center justify-center"
  >
    <!-- ***** Header Area Start ***** -->
    <header class="bg-gray-800 shadow-lg sticky top-0 w-full z-50">
      <div class="container mx-auto p-4 flex justify-between items-center">
        <!-- ***** Logo Start ***** -->
        <a href="index.html" class="text-white text-3xl font-bold">
          Road <em>Accident</em>
        </a>
        <!-- ***** Logo End ***** -->
        <!-- ***** Menu Start ***** -->
        <nav>
          <ul class="flex space-x-6 text-white">
            <li>
              <a href="{{ url_for('first') }}" class="hover:text-yellow-400"
                >Home</a
              >
            </li>
            <li>
              <a href="{{ url_for('login') }}" class="hover:text-yellow-400"
                >Login</a
              >
            </li>
          </ul>
        </nav>
        <!-- ***** Menu End ***** -->
      </div>
    </header>
    <!-- ***** Header Area End ***** -->

    <!-- ***** Create Account Section Start ***** -->
    <section
      class="bg-gray-900 shadow-lg rounded-lg p-8 w-full max-w-md animate-slideIn animate-pulse"
    >
      <h1 class="text-3xl font-bold text-white mb-8 text-center">
        Create Account
      </h1>
      <form onsubmit="return createAccount()" class="space-y-4">
        <div class="form-group">
          <label for="new-uname" class="block text-gray-300 font-semibold mb-2"
            >Username <span class="text-red-500">*</span></label
          >
          <input
            type="text"
            id="new-uname"
            name="new-uname"
            placeholder="Enter Username"
            class="form-control w-full px-4 py-2 rounded-full border border-gray-500 bg-gray-700 text-white focus:outline-none focus:ring-2 focus:ring-blue-500"
            pattern="[A-Za-z]{4,20}"
            title="Username must be 4â€“20 characters long and contain only letters."
            required
          />
        </div>
        <div class="form-group">
          <label for="new-email" class="block text-gray-300 font-semibold mb-2"
            >Email <span class="text-red-500">*</span></label
          >
          <input
            type="email"
            id="new-email"
            name="new-email"
            placeholder="Enter Email"
            class="form-control w-full px-4 py-2 rounded-full border border-gray-500 bg-gray-700 text-white focus:outline-none focus:ring-2 focus:ring-blue-500"
            pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$"
            title="Please enter a valid email address."
            required
          />
        </div>
        <div class="form-group">
          <label for="new-mobile" class="block text-gray-300 font-semibold mb-2"
            >Mobile Number <span class="text-red-500">*</span></label
          >
          <input
            type="tel"
            id="new-mobile"
            name="new-mobile"
            placeholder="Enter Mobile Number"
            class="form-control w-full px-4 py-2 rounded-full border border-gray-500 bg-gray-700 text-white focus:outline-none focus:ring-2 focus:ring-blue-500"
            pattern="\d{10}"
            title="Mobile number must be 10 digits."
            required
          />
        </div>
        <div class="form-group">
          <label for="new-pwd" class="block text-gray-300 font-semibold mb-2"
            >Password <span class="text-red-500">*</span></label
          >
          <input
            type="password"
            id="new-pwd"
            name="new-pwd"
            placeholder="Enter Password"
            class="form-control w-full px-4 py-2 rounded-full border border-gray-500 bg-gray-700 text-white focus:outline-none focus:ring-2 focus:ring-blue-500"
            pattern="(?=.*[@#$%^&+=]).{6,}"
            title="Password must be at least 6 characters long and contain at least one special character (@#$%^&+=)."
            required
          />
        </div>
        <div class="form-group">
          <label
            for="confirm-pwd"
            class="block text-gray-300 font-semibold mb-2"
            >Confirm Password <span class="text-red-500">*</span></label
          >
          <input
            type="password"
            id="confirm-pwd"
            name="confirm-pwd"
            placeholder="Confirm Password"
            class="form-control w-full px-4 py-2 rounded-full border border-gray-500 bg-gray-700 text-white focus:outline-none focus:ring-2 focus:ring-blue-500"
            required
          />
        </div>
        <div class="form-group text-center">
          <button
            type="submit"
            class="bg-blue-500 text-white py-2 px-6 rounded-full text-lg font-semibold hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500"
          >
            Create Account
          </button>
        </div>
      </form>
      <div class="text-center mt-6">
        <p class="text-gray-400">
          Do you already have an account?
          <a href="{{ url_for('login') }}" class="text-blue-400 hover:underline"
            >Login</a
          >
        </p>
      </div>
    </section>
    <!-- ***** Create Account Section End ***** -->

    <!-- ***** Footer Start ***** -->
    <footer class="bg-gray-900 text-white py-6 mt-8 w-full">
      <div class="container mx-auto text-center">
        Copy: 2024 RoadSense | Designed by Rohit.jsx
      </div>
    </footer>
    <!-- ***** Footer End ***** -->

    <!-- jQuery -->
    <script src="../static/js/jquery-2.1.0.min.js"></script>
    <!-- Bootstrap -->
    <script src="../static/js/popper.js"></script>
    <script src="../static/js/bootstrap.min.js"></script>
    <!-- Plugins -->
    <script src="../static/js/scrollreveal.min.js"></script>
    <script src="../static/js/waypoints.min.js"></script>
    <script src="../static/js/jquery.counterup.min.js"></script>
    <script src="../static/js/imgfix.min.js"></script>
    <script src="../static/js/mixitup.js"></script>
    <script src="../static/js/accordions.js"></script>
    <!-- Global Init -->
    <script src="../static/js/custom.js"></script>

    <script>
      let users = [{ username: "admin", password: "admin" }];

      function createAccount() {
        var uname = document.getElementById("new-uname").value;
        var email = document.getElementById("new-email").value;
        var mobile = document.getElementById("new-mobile").value;
        var pwd = document.getElementById("new-pwd").value;
        var confirmPwd = document.getElementById("confirm-pwd").value;

        // Check if all fields are filled
        if (!uname || !email || !mobile || !pwd || !confirmPwd) {
          alert("All fields are required!");
          return false;
        }

        // Check if the username already exists
        for (let user of users) {
          if (user.username === uname) {
            alert("Username already exists!");
            return false;
          }
        }

        if (pwd !== confirmPwd) {
          alert("Passwords do not match!");
          return false;
        }

        // Perform further validation if needed

        users.push({ username: uname, password: pwd });
        alert("Account Created Successfully!");
        window.location = "{{ url_for('login') }}";
        return false;
      }
    </script>
  </body>
</html>
